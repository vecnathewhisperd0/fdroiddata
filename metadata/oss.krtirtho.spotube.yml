AntiFeatures:
  NonFreeNet:
    en-US: App depends on Spotify, which is non-free.
Categories:
  - Internet
  - Multimedia
License: BSD-4-Clause
AuthorName: Kingkor Roy Tirtho
AuthorEmail: krtirtho@gmail.com
SourceCode: https://github.com/KRTirtho/spotube
IssueTracker: https://github.com/KRTirtho/spotube/issues
Changelog: https://github.com/KRTirtho/spotube/blob/HEAD/CHANGELOG.md

AutoName: Spotube

RepoType: git
Repo: https://github.com/KRTirtho/spotube.git

Builds:
  - versionName: 2.2.1
    versionCode: 11
    commit: 29697d5ae5114ee71754af7aad3d3a7fc3987c0c
    output: build/app/outputs/apk/release/*.apk
    srclibs:
      - flutter@3.0.1
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - deb-struct
      - choco-struct
      - aur-struct
    build:
      - $$flutter$$/bin/flutter config --no-analytics
      - $$flutter$$/bin/flutter pub get
      - export HASH1='WyJUSnI4QlFITWRVVUlMQjZoYTRIZFUzMklMaFdzV1NMaEZWQWwxUGNzMU9uZmpGdVRxVWtQZEk0ODhnTmJIb2tRIiwiQURLZkJ5WUU4d1NYdHFZczV1Wm0wVEJRMlJGUkc2a29pZVFiNWJVRE9jRzUya29WVkxTS0lQUlNMbUdBaHgycCIsImZJcHB2bDBIeDZEMDQ5YzlWYnlwV2RLZllnbWdRMGc1YmV6ZmJmQXQzaHNjcGVDbFFXOTZGajNhc3JsTG00QjciLCAiNHd4MWlmejVNUW9VYnhyc1kxRENTMDJMTVNOdFZKUmY0SXJjWTB6OW9IVVlZU05WUndrZUtHUW0xSjlJSE9GWiIsInlkOWQ2REl4VzY4dEhMbWxBVTZZUGxaVTV2LWRlQ2pzcHBhdWxwT19xUmhsV1NDVyFuCKutHeifAnDWHaTURdOIngSuKsamYyX0Fkd1Z6bndjMkhiTHhzTlJldEdsTlFLdDl1ZHozbGZqdTkwOEw5ZWViIiwiRVJnNjJpajFzVnJzdkRTS1hrbVlIemRzRlN3c29VR21GcEVRRVR6Sm5ROHc4eVc1b3plM1hmUDZabFJZVU8xWCIsIjdybGczUExtQzFMUHA3MHZmbEtuWHV1a29BQmpoMTE3b2t4SG5TamFLeENSd1VXVGdSVVo3WGU5dVR0WDVvUS0iLCJiMmUyR2NzUTlEay0zeXVpTW01azNTTERkLXpFXzZTQUdjMENNMUtpbGs4Y21ySjEzem5mT05yRXh3YTJJWnlpIiwiMnZYWmJObWt2SUJ5MnFVSElxc2Q4VHNCRmFLaFgtSW5ZVjU4Wk4wUm5nVHBLNmdSRDlfcWFrMWVJdGFMS2NicyJd'
      - export HASH2='W3siY2xpZW50SWQiOiJlNGQyMGIwMTMwMjI0MzMyOGQzNTg1MjQxYTFiMmIyNSIsImNsaWVudFNlY3JldCI6IjNkZDIxNjM1MjRjNjQ2NWM5MTZjYzRkNmU2ZmRhOTc3In0seyJjbGllbnRJZCI6ImUzODRkYmFkNmM3ZjQ2OTJiNjI3ZDRhMDZkOTE4M2NmIiwiY2xpZW50U2VjcmV0IjoiZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYifSx7ImNsaWVudElkIjoiZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmUiLCJjbGllbnRTZWNyZXQiOiI4YTE4ZDgyMGQ1YmQ0NTU3YjMwZmU3YTQ1OWY4ZjNhYiJ9LHsiY2xpZW50SWQiOiI4MWQxZGRhYzljNWU0Njk2YTlmNDdhZGZmODhkZmE5NSIsImNsaWVudFNlY3JldCI6ImY1NTg5ZTNiN2MwZjRiZTFhY2ZkODc3OWUyN2YzMWFhIn0seyJjbGllbnRJZCI6ImFhYzZlYmQ3Mjg5MDFuCKutHeifANdfDrOidsUckSwMDgxIiwiY2xpZW50U2VjcmV0IjoiNTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMifSx7ImNsaWVudElkIjoiMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5MjciLCJjbGllbnRTZWNyZXQiOiJkNzBhZWM4ZjhjN2Q0ZTY0YTlhMDkwYTY0N2UxZDBmYiJ9LHsiY2xpZW50SWQiOiJhZjQ4OGI0MDhkNWM0NDAyYWQxNGY3MGNjZjMwMTdmOCIsImNsaWVudFNlY3JldCI6IjEzZTkwMzk5YTEyMjQzMjE4Y2U1MDE2YmZlZWIyNTA0In0seyJjbGllbnRJZCI6IjYyYmI1NWU2Y2Y2MDQwOTZhZDQ2ODBiYjI1NGY4ZjU1IiwiY2xpZW50U2VjcmV0IjoiZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAifSx7ImNsaWVudElkIjoiZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDUiLCJjbGllbnRTZWNyZXQiOiJhMzU2ZjEyNDE4YjI0ODBkYWJmODRkOThhOTUxYTliYSJ9LHsiY2xpZW50SWQiOiIzZmM0OWZjNjkwYzA0NWVhYTBmMGEyNDI2ZGQ0YTkxZSIsImNsaWVudFNlY3JldCI6IjJiYjdkYTY1YzUwNjQ4YWVhOGI3YmMwOWQ0ZWY0MGZlIn1d'
      - $$flutter$$/bin/dart bin/create-secrets.dart --fdroid $HASH1 $HASH2
      - $$flutter$$/bin/flutter build apk --release --verbose --obfuscate --split-debug-info=.
      - find . | sed -e "s/[^-][^\/]*\// |/g" -e "s/|\([^ ]\)/|-\1/"

  - versionName: 2.3.0
    versionCode: 12
    commit: 62ea78dfbfe613921858b5a73f04f001ed10018f
    output: build/app/outputs/apk/release/*.apk
    srclibs:
      - flutter@3.0.4
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    build:
      - $$flutter$$/bin/flutter config --no-analytics
      - $$flutter$$/bin/flutter pub get
      - export HASH1='WyJUSnI4QlFITWRVVUlMQjZoYTRIZFUzMklMaFdzV1NMaEZWQWwxUGNzMU9uZmpGdVRxVWtQZEk0ODhnTmJIb2tRIiwiQURLZkJ5WUU4d1NYdHFZczV1Wm0wVEJRMlJGUkc2a29pZVFiNWJVRE9jRzUya29WVkxTS0lQUlNMbUdBaHgycCIsImZJcHB2bDBIeDZEMDQ5YzlWYnlwV2RLZllnbWdRMGc1YmV6ZmJmQXQzaHNjcGVDbFFXOTZGajNhc3JsTG00QjciLCAiNHd4MWlmejVNUW9VYnhyc1kxRENTMDJMTVNOdFZKUmY0SXJjWTB6OW9IVVlZU05WUndrZUtHUW0xSjlJSE9GWiIsInlkOWQ2REl4VzY4dEhMbWxBVTZZUGxaVTV2LWRlQ2pzcHBhdWxwT19xUmhsV1NDVyFuCKutHeifAnDWHaTURdOIngSuKsamYyX0Fkd1Z6bndjMkhiTHhzTlJldEdsTlFLdDl1ZHozbGZqdTkwOEw5ZWViIiwiRVJnNjJpajFzVnJzdkRTS1hrbVlIemRzRlN3c29VR21GcEVRRVR6Sm5ROHc4eVc1b3plM1hmUDZabFJZVU8xWCIsIjdybGczUExtQzFMUHA3MHZmbEtuWHV1a29BQmpoMTE3b2t4SG5TamFLeENSd1VXVGdSVVo3WGU5dVR0WDVvUS0iLCJiMmUyR2NzUTlEay0zeXVpTW01azNTTERkLXpFXzZTQUdjMENNMUtpbGs4Y21ySjEzem5mT05yRXh3YTJJWnlpIiwiMnZYWmJObWt2SUJ5MnFVSElxc2Q4VHNCRmFLaFgtSW5ZVjU4Wk4wUm5nVHBLNmdSRDlfcWFrMWVJdGFMS2NicyJd'
      - export HASH2='W3siY2xpZW50SWQiOiJlNGQyMGIwMTMwMjI0MzMyOGQzNTg1MjQxYTFiMmIyNSIsImNsaWVudFNlY3JldCI6IjNkZDIxNjM1MjRjNjQ2NWM5MTZjYzRkNmU2ZmRhOTc3In0seyJjbGllbnRJZCI6ImUzODRkYmFkNmM3ZjQ2OTJiNjI3ZDRhMDZkOTE4M2NmIiwiY2xpZW50U2VjcmV0IjoiZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYifSx7ImNsaWVudElkIjoiZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmUiLCJjbGllbnRTZWNyZXQiOiI4YTE4ZDgyMGQ1YmQ0NTU3YjMwZmU3YTQ1OWY4ZjNhYiJ9LHsiY2xpZW50SWQiOiI4MWQxZGRhYzljNWU0Njk2YTlmNDdhZGZmODhkZmE5NSIsImNsaWVudFNlY3JldCI6ImY1NTg5ZTNiN2MwZjRiZTFhY2ZkODc3OWUyN2YzMWFhIn0seyJjbGllbnRJZCI6ImFhYzZlYmQ3Mjg5MDFuCKutHeifANdfDrOidsUckSwMDgxIiwiY2xpZW50U2VjcmV0IjoiNTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMifSx7ImNsaWVudElkIjoiMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5MjciLCJjbGllbnRTZWNyZXQiOiJkNzBhZWM4ZjhjN2Q0ZTY0YTlhMDkwYTY0N2UxZDBmYiJ9LHsiY2xpZW50SWQiOiJhZjQ4OGI0MDhkNWM0NDAyYWQxNGY3MGNjZjMwMTdmOCIsImNsaWVudFNlY3JldCI6IjEzZTkwMzk5YTEyMjQzMjE4Y2U1MDE2YmZlZWIyNTA0In0seyJjbGllbnRJZCI6IjYyYmI1NWU2Y2Y2MDQwOTZhZDQ2ODBiYjI1NGY4ZjU1IiwiY2xpZW50U2VjcmV0IjoiZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAifSx7ImNsaWVudElkIjoiZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDUiLCJjbGllbnRTZWNyZXQiOiJhMzU2ZjEyNDE4YjI0ODBkYWJmODRkOThhOTUxYTliYSJ9LHsiY2xpZW50SWQiOiIzZmM0OWZjNjkwYzA0NWVhYTBmMGEyNDI2ZGQ0YTkxZSIsImNsaWVudFNlY3JldCI6IjJiYjdkYTY1YzUwNjQ4YWVhOGI3YmMwOWQ0ZWY0MGZlIn1d'
      - $$flutter$$/bin/dart bin/create-secrets.dart --fdroid $HASH1 $HASH2
      - $$flutter$$/bin/flutter build apk --release --verbose --obfuscate --split-debug-info=.
      - find . | sed -e "s/[^-][^\/]*\// |/g" -e "s/|\([^ ]\)/|-\1/"

  - versionName: 2.7.0
    versionCode: 17
    commit: 4182234be653d8762863ec4949bd45ac56ad8ca1
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/apk/release/*.apk
    srclibs:
      - flutter@3.7.6
      - metadata_god_rust@v0.3.2
      - rustup@1.25.2
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - sed -i -e 's/this.checkUpdate .*/this.checkUpdate = false,/' lib/provider/user_preferences_provider.dart
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter config --no-analytics
      - $$flutter$$/bin/flutter pub get
    scandelete:
      - .pub-cache
    build:
      - echo "POCKETBASE_URL=https://spotube.pockethost.io/" >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - pushd $$metadata_god_rust$$
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y
      - source $HOME/.cargo/env
      - rustup target add aarch64-linux-android armv7-linux-androideabi x86_64-linux-android
        i686-linux-android
      - cargo install cargo-ndk
      - mkdir dist
      - cd rust
      - cargo ndk -t armeabi-v7a -t arm64-v8a -t x86_64 -t x86 -o ../dist build --release
      - popd
      - cp $$metadata_god_rust$$/dist/armeabi-v7a/librust.so .pub-cache/hosted/pub.dev/metadata_god-0.3.2/android/src/main/jniLibs/armeabi-v7a/librust.so
      - cp $$metadata_god_rust$$/dist/x86_64/librust.so .pub-cache/hosted/pub.dev/metadata_god-0.3.2/android/src/main/jniLibs/x86_64/librust.so
      - cp $$metadata_god_rust$$/dist/x86/librust.so .pub-cache/hosted/pub.dev/metadata_god-0.3.2/android/src/main/jniLibs/x86/librust.so
      - cp $$metadata_god_rust$$/dist/arm64-v8a/librust.so .pub-cache/hosted/pub.dev/metadata_god-0.3.2/android/src/main/jniLibs/arm64-v8a/librust.so
      - export HASH1='WyJUSnI4QlFITWRVVUlMQjZoYTRIZFUzMklMaFdzV1NMaEZWQWwxUGNzMU9uZmpGdVRxVWtQZEk0ODhnTmJIb2tRIiwiQURLZkJ5WUU4d1NYdHFZczV1Wm0wVEJRMlJGUkc2a29pZVFiNWJVRE9jRzUya29WVkxTS0lQUlNMbUdBaHgycCIsImZJcHB2bDBIeDZEMDQ5YzlWYnlwV2RLZllnbWdRMGc1YmV6ZmJmQXQzaHNjcGVDbFFXOTZGajNhc3JsTG00QjciLCAiNHd4MWlmejVNUW9VYnhyc1kxRENTMDJMTVNOdFZKUmY0SXJjWTB6OW9IVVlZU05WUndrZUtHUW0xSjlJSE9GWiIsInlkOWQ2REl4VzY4dEhMbWxBVTZZUGxaVTV2LWRlQ2pzcHBhdWxwT19xUmhsV1NDVyFuCKutHeifAnDWHaTURdOIngSuKsamYyX0Fkd1Z6bndjMkhiTHhzTlJldEdsTlFLdDl1ZHozbGZqdTkwOEw5ZWViIiwiRVJnNjJpajFzVnJzdkRTS1hrbVlIemRzRlN3c29VR21GcEVRRVR6Sm5ROHc4eVc1b3plM1hmUDZabFJZVU8xWCIsIjdybGczUExtQzFMUHA3MHZmbEtuWHV1a29BQmpoMTE3b2t4SG5TamFLeENSd1VXVGdSVVo3WGU5dVR0WDVvUS0iLCJiMmUyR2NzUTlEay0zeXVpTW01azNTTERkLXpFXzZTQUdjMENNMUtpbGs4Y21ySjEzem5mT05yRXh3YTJJWnlpIiwiMnZYWmJObWt2SUJ5MnFVSElxc2Q4VHNCRmFLaFgtSW5ZVjU4Wk4wUm5nVHBLNmdSRDlfcWFrMWVJdGFMS2NicyJd'
      - export HASH2='W3siY2xpZW50SWQiOiJlNGQyMGIwMTMwMjI0MzMyOGQzNTg1MjQxYTFiMmIyNSIsImNsaWVudFNlY3JldCI6IjNkZDIxNjM1MjRjNjQ2NWM5MTZjYzRkNmU2ZmRhOTc3In0seyJjbGllbnRJZCI6ImUzODRkYmFkNmM3ZjQ2OTJiNjI3ZDRhMDZkOTE4M2NmIiwiY2xpZW50U2VjcmV0IjoiZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYifSx7ImNsaWVudElkIjoiZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmUiLCJjbGllbnRTZWNyZXQiOiI4YTE4ZDgyMGQ1YmQ0NTU3YjMwZmU3YTQ1OWY4ZjNhYiJ9LHsiY2xpZW50SWQiOiI4MWQxZGRhYzljNWU0Njk2YTlmNDdhZGZmODhkZmE5NSIsImNsaWVudFNlY3JldCI6ImY1NTg5ZTNiN2MwZjRiZTFhY2ZkODc3OWUyN2YzMWFhIn0seyJjbGllbnRJZCI6ImFhYzZlYmQ3Mjg5MDFuCKutHeifANdfDrOidsUckSwMDgxIiwiY2xpZW50U2VjcmV0IjoiNTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMifSx7ImNsaWVudElkIjoiMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5MjciLCJjbGllbnRTZWNyZXQiOiJkNzBhZWM4ZjhjN2Q0ZTY0YTlhMDkwYTY0N2UxZDBmYiJ9LHsiY2xpZW50SWQiOiJhZjQ4OGI0MDhkNWM0NDAyYWQxNGY3MGNjZjMwMTdmOCIsImNsaWVudFNlY3JldCI6IjEzZTkwMzk5YTEyMjQzMjE4Y2U1MDE2YmZlZWIyNTA0In0seyJjbGllbnRJZCI6IjYyYmI1NWU2Y2Y2MDQwOTZhZDQ2ODBiYjI1NGY4ZjU1IiwiY2xpZW50U2VjcmV0IjoiZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAifSx7ImNsaWVudElkIjoiZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDUiLCJjbGllbnRTZWNyZXQiOiJhMzU2ZjEyNDE4YjI0ODBkYWJmODRkOThhOTUxYTliYSJ9LHsiY2xpZW50SWQiOiIzZmM0OWZjNjkwYzA0NWVhYTBmMGEyNDI2ZGQ0YTkxZSIsImNsaWVudFNlY3JldCI6IjJiYjdkYTY1YzUwNjQ4YWVhOGI3YmMwOWQ0ZWY0MGZlIn1d'
      - $$flutter$$/bin/dart bin/create-secrets.dart --fdroid $HASH1 $HASH2
      - $$flutter$$/bin/flutter build apk --release --verbose --obfuscate --split-debug-info=.
      - find . | sed -e "s/[^-][^\/]*\// |/g" -e "s/|\([^ ]\)/|-\1/"
    ndk: r25b

  - versionName: 2.7.1
    versionCode: 18
    commit: 42d1db64db77a3766ab5b01f0e59611e51a03aae
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/apk/release/*.apk
    srclibs:
      - flutter@stable
      - metadata_god_rust@v0.4.1
      - rustup@1.25.2
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - export version=$(grep flutterSdkVersion .fvm/fvm_config.json | cut -d ":"
        -f2|cut -d "\"" -f2)
      - pushd $$flutter$$
      - git checkout -f $version
      - popd
      - sed -i -e 's/this.checkUpdate .*/this.checkUpdate = false,/' lib/provider/user_preferences_provider.dart
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - echo "POCKETBASE_URL=https://spotube.pockethost.io/" >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y
      - source $HOME/.cargo/env
      - rustup target add aarch64-linux-android armv7-linux-androideabi x86_64-linux-android
        i686-linux-android
      - cargo install cargo-ndk
      - pushd $$metadata_god_rust$$
      - melos bs
      - melos build:android
      - melos copylib:android
      - popd
      - export HASH1='WyJUSnI4QlFITWRVVUlMQjZoYTRIZFUzMklMaFdzV1NMaEZWQWwxUGNzMU9uZmpGdVRxVWtQZEk0ODhnTmJIb2tRIiwiQURLZkJ5WUU4d1NYdHFZczV1Wm0wVEJRMlJGUkc2a29pZVFiNWJVRE9jRzUya29WVkxTS0lQUlNMbUdBaHgycCIsImZJcHB2bDBIeDZEMDQ5YzlWYnlwV2RLZllnbWdRMGc1YmV6ZmJmQXQzaHNjcGVDbFFXOTZGajNhc3JsTG00QjciLCAiNHd4MWlmejVNUW9VYnhyc1kxRENTMDJMTVNOdFZKUmY0SXJjWTB6OW9IVVlZU05WUndrZUtHUW0xSjlJSE9GWiIsInlkOWQ2REl4VzY4dEhMbWxBVTZZUGxaVTV2LWRlQ2pzcHBhdWxwT19xUmhsV1NDVyFuCKutHeifAnDWHaTURdOIngSuKsamYyX0Fkd1Z6bndjMkhiTHhzTlJldEdsTlFLdDl1ZHozbGZqdTkwOEw5ZWViIiwiRVJnNjJpajFzVnJzdkRTS1hrbVlIemRzRlN3c29VR21GcEVRRVR6Sm5ROHc4eVc1b3plM1hmUDZabFJZVU8xWCIsIjdybGczUExtQzFMUHA3MHZmbEtuWHV1a29BQmpoMTE3b2t4SG5TamFLeENSd1VXVGdSVVo3WGU5dVR0WDVvUS0iLCJiMmUyR2NzUTlEay0zeXVpTW01azNTTERkLXpFXzZTQUdjMENNMUtpbGs4Y21ySjEzem5mT05yRXh3YTJJWnlpIiwiMnZYWmJObWt2SUJ5MnFVSElxc2Q4VHNCRmFLaFgtSW5ZVjU4Wk4wUm5nVHBLNmdSRDlfcWFrMWVJdGFMS2NicyJd'
      - export HASH2='W3siY2xpZW50SWQiOiJlNGQyMGIwMTMwMjI0MzMyOGQzNTg1MjQxYTFiMmIyNSIsImNsaWVudFNlY3JldCI6IjNkZDIxNjM1MjRjNjQ2NWM5MTZjYzRkNmU2ZmRhOTc3In0seyJjbGllbnRJZCI6ImUzODRkYmFkNmM3ZjQ2OTJiNjI3ZDRhMDZkOTE4M2NmIiwiY2xpZW50U2VjcmV0IjoiZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYifSx7ImNsaWVudElkIjoiZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmUiLCJjbGllbnRTZWNyZXQiOiI4YTE4ZDgyMGQ1YmQ0NTU3YjMwZmU3YTQ1OWY4ZjNhYiJ9LHsiY2xpZW50SWQiOiI4MWQxZGRhYzljNWU0Njk2YTlmNDdhZGZmODhkZmE5NSIsImNsaWVudFNlY3JldCI6ImY1NTg5ZTNiN2MwZjRiZTFhY2ZkODc3OWUyN2YzMWFhIn0seyJjbGllbnRJZCI6ImFhYzZlYmQ3Mjg5MDFuCKutHeifANdfDrOidsUckSwMDgxIiwiY2xpZW50U2VjcmV0IjoiNTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMifSx7ImNsaWVudElkIjoiMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5MjciLCJjbGllbnRTZWNyZXQiOiJkNzBhZWM4ZjhjN2Q0ZTY0YTlhMDkwYTY0N2UxZDBmYiJ9LHsiY2xpZW50SWQiOiJhZjQ4OGI0MDhkNWM0NDAyYWQxNGY3MGNjZjMwMTdmOCIsImNsaWVudFNlY3JldCI6IjEzZTkwMzk5YTEyMjQzMjE4Y2U1MDE2YmZlZWIyNTA0In0seyJjbGllbnRJZCI6IjYyYmI1NWU2Y2Y2MDQwOTZhZDQ2ODBiYjI1NGY4ZjU1IiwiY2xpZW50U2VjcmV0IjoiZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAifSx7ImNsaWVudElkIjoiZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDUiLCJjbGllbnRTZWNyZXQiOiJhMzU2ZjEyNDE4YjI0ODBkYWJmODRkOThhOTUxYTliYSJ9LHsiY2xpZW50SWQiOiIzZmM0OWZjNjkwYzA0NWVhYTBmMGEyNDI2ZGQ0YTkxZSIsImNsaWVudFNlY3JldCI6IjJiYjdkYTY1YzUwNjQ4YWVhOGI3YmMwOWQ0ZWY0MGZlIn1d'
      - dart bin/create-secrets.dart --fdroid $HASH1 $HASH2
      - flutter build apk --release --verbose --obfuscate --split-debug-info=.
      - find . | sed -e "s/[^-][^\/]*\// |/g" -e "s/|\([^ ]\)/|-\1/"
    ndk: r25b

  - versionName: 3.0.0
    versionCode: 19
    commit: 6a196672bb08a69e972c82efdb6ce8636c98a22a
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/apk/release/*.apk
    srclibs:
      - flutter@3.10.3
      - metadata_god_rust@v0.4.1
      - rustup@1.25.2
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - sed -i -e 's/this.checkUpdate .*/this.checkUpdate = false,/' lib/provider/user_preferences_provider.dart
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - export HASH='ZTRkMjBiMDEzMDIyNDMzMjhkMzU4NTI0MWExYjJiMjU6M2RkMjE2MzUyNGM2NDY1YzkxNmNjNGQ2ZTZmZGE5NzcsZTM4NGRiYWQ2YzdmNDY5MmI2MjdkNGEwNmQ5MTgzY2Y6ZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYsZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmU6OGExOGQ4MjBkNWJkNDU1N2IzMGZlN2E0NTlmOGYzYWIsODFkMWRkYWM5YzVlNDY5NmE5ZjQ3YWRmZjg4ZGZhOTU6ZjU1ODllM2I3YzBmNGJlMWFjZmQ4Nzc5ZTI3ZjMxYWEsYWFjNmViZDcyODkwNDA4ZTk3YThkOTExZjhhMjAwODE6NTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMsMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5Mjc6ZDcwYWVjOGY4YzdkNGU2NGE5YTA5MGE2NDdlMWQwZmIsYWY0ODhiNDA4ZDVjNDQwMmFkMTRmNzBjY2YzMDE3Zjg6MTNlOTAzOTlhMTIyNDMyMThjZTUwMTZiZmVlYjI1MDQsNjJiYjU1ZTZjZjYwNDA5NmFkNDY4MGJiMjU0ZjhmNTU6ZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAsZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDU6YTM1NmYxMjQxOGIyNDgwZGFiZjg0ZDk4YTk1MWE5YmEsM2ZjNDlmYzY5MGMwNDVlYWEwZjBhMjQyNmRkNGE5MWU6MmJiN2RhNjVjNTA2NDhhZWE4YjdiYzA5ZDRlZjQwZmU='
      - echo "SPOTIFY_SECRETS=`echo $HASH | base64 --decode`" >> .env
      - echo "SUPABASE_URL=https://egnloosvpullyovaxpbf.supabase.co" >> .env
      - echo "SUPABASE_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVnbmxvb3N2cHVsbHlvdmF4cGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQyMTI4MDIsImV4cCI6MTk5OTc4ODgwMn0.dJWCP05v-Oqsx7r5GOSpq5g2QRKEUzNhPmYI4X79Pmw"
        >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y
      - source $HOME/.cargo/env
      - rustup target add aarch64-linux-android armv7-linux-androideabi x86_64-linux-android
        i686-linux-android
      - cargo install cargo-ndk
      - pushd $$metadata_god_rust$$
      - melos bs
      - melos build:android
      - melos copylib:android
      - popd
      - dart run build_runner build --delete-conflicting-outputs --enable-experiment=records,patterns
      - flutter build apk --release --obfuscate --split-debug-info=.
      - find . | sed -e "s/[^-][^\/]*\// |/g" -e "s/|\([^ ]\)/|-\1/"
    ndk: r25b

  - versionName: 3.0.1
    versionCode: 20
    commit: 34554f0ced308f4693cc846460aebd6281807792
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/apk/release/*.apk
    srclibs:
      - flutter@3.10.3
      - metadata_god_rust@v0.4.1
      - rustup@1.25.2
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - sed -i -e 's/this.checkUpdate .*/this.checkUpdate = false,/' lib/provider/user_preferences_provider.dart
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - export HASH='ZTRkMjBiMDEzMDIyNDMzMjhkMzU4NTI0MWExYjJiMjU6M2RkMjE2MzUyNGM2NDY1YzkxNmNjNGQ2ZTZmZGE5NzcsZTM4NGRiYWQ2YzdmNDY5MmI2MjdkNGEwNmQ5MTgzY2Y6ZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYsZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmU6OGExOGQ4MjBkNWJkNDU1N2IzMGZlN2E0NTlmOGYzYWIsODFkMWRkYWM5YzVlNDY5NmE5ZjQ3YWRmZjg4ZGZhOTU6ZjU1ODllM2I3YzBmNGJlMWFjZmQ4Nzc5ZTI3ZjMxYWEsYWFjNmViZDcyODkwNDA4ZTk3YThkOTExZjhhMjAwODE6NTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMsMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5Mjc6ZDcwYWVjOGY4YzdkNGU2NGE5YTA5MGE2NDdlMWQwZmIsYWY0ODhiNDA4ZDVjNDQwMmFkMTRmNzBjY2YzMDE3Zjg6MTNlOTAzOTlhMTIyNDMyMThjZTUwMTZiZmVlYjI1MDQsNjJiYjU1ZTZjZjYwNDA5NmFkNDY4MGJiMjU0ZjhmNTU6ZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAsZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDU6YTM1NmYxMjQxOGIyNDgwZGFiZjg0ZDk4YTk1MWE5YmEsM2ZjNDlmYzY5MGMwNDVlYWEwZjBhMjQyNmRkNGE5MWU6MmJiN2RhNjVjNTA2NDhhZWE4YjdiYzA5ZDRlZjQwZmU='
      - echo "SPOTIFY_SECRETS=`echo $HASH | base64 --decode`" >> .env
      - echo "SUPABASE_URL=https://egnloosvpullyovaxpbf.supabase.co" >> .env
      - echo "SUPABASE_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVnbmxvb3N2cHVsbHlvdmF4cGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQyMTI4MDIsImV4cCI6MTk5OTc4ODgwMn0.dJWCP05v-Oqsx7r5GOSpq5g2QRKEUzNhPmYI4X79Pmw"
        >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y
      - source $HOME/.cargo/env
      - rustup target add aarch64-linux-android armv7-linux-androideabi x86_64-linux-android
        i686-linux-android
      - cargo install cargo-ndk
      - pushd $$metadata_god_rust$$
      - melos bs
      - melos build:android
      - melos copylib:android
      - popd
      - dart run build_runner build --delete-conflicting-outputs --enable-experiment=records,patterns
      - flutter build apk --release --obfuscate --split-debug-info=.
      - find . | sed -e "s/[^-][^\/]*\// |/g" -e "s/|\([^ ]\)/|-\1/"
    ndk: r25b

  - versionName: 3.1.0
    versionCode: 21
    commit: 93f0db0196dd497166f6058316dcafac432fbd8e
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/apk/release/*.apk
    srclibs:
      - flutter@3.10.3
      - metadata_god_rust@v0.4.1
      - rustup@1.25.2
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - sed -i -e 's/this.checkUpdate .*/this.checkUpdate = false,/' lib/provider/user_preferences_provider.dart
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - export HASH='ZTRkMjBiMDEzMDIyNDMzMjhkMzU4NTI0MWExYjJiMjU6M2RkMjE2MzUyNGM2NDY1YzkxNmNjNGQ2ZTZmZGE5NzcsZTM4NGRiYWQ2YzdmNDY5MmI2MjdkNGEwNmQ5MTgzY2Y6ZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYsZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmU6OGExOGQ4MjBkNWJkNDU1N2IzMGZlN2E0NTlmOGYzYWIsODFkMWRkYWM5YzVlNDY5NmE5ZjQ3YWRmZjg4ZGZhOTU6ZjU1ODllM2I3YzBmNGJlMWFjZmQ4Nzc5ZTI3ZjMxYWEsYWFjNmViZDcyODkwNDA4ZTk3YThkOTExZjhhMjAwODE6NTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMsMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5Mjc6ZDcwYWVjOGY4YzdkNGU2NGE5YTA5MGE2NDdlMWQwZmIsYWY0ODhiNDA4ZDVjNDQwMmFkMTRmNzBjY2YzMDE3Zjg6MTNlOTAzOTlhMTIyNDMyMThjZTUwMTZiZmVlYjI1MDQsNjJiYjU1ZTZjZjYwNDA5NmFkNDY4MGJiMjU0ZjhmNTU6ZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAsZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDU6YTM1NmYxMjQxOGIyNDgwZGFiZjg0ZDk4YTk1MWE5YmEsM2ZjNDlmYzY5MGMwNDVlYWEwZjBhMjQyNmRkNGE5MWU6MmJiN2RhNjVjNTA2NDhhZWE4YjdiYzA5ZDRlZjQwZmU='
      - echo "SPOTIFY_SECRETS=`echo $HASH | base64 --decode`" >> .env
      - echo "SUPABASE_URL=https://egnloosvpullyovaxpbf.supabase.co" >> .env
      - echo "SUPABASE_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVnbmxvb3N2cHVsbHlvdmF4cGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQyMTI4MDIsImV4cCI6MTk5OTc4ODgwMn0.dJWCP05v-Oqsx7r5GOSpq5g2QRKEUzNhPmYI4X79Pmw"
        >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y
      - source $HOME/.cargo/env
      - rustup target add aarch64-linux-android armv7-linux-androideabi x86_64-linux-android
        i686-linux-android
      - cargo install cargo-ndk
      - pushd $$metadata_god_rust$$
      - melos bs
      - melos build:android
      - melos copylib:android
      - popd
      - dart run build_runner build --delete-conflicting-outputs --enable-experiment=records,patterns
      - flutter build apk --release --obfuscate --split-debug-info=.
      - find . | sed -e "s/[^-][^\/]*\// |/g" -e "s/|\([^ ]\)/|-\1/"
    ndk: r25b

  - versionName: 3.1.1
    versionCode: 23
    commit: 1248c38f3db11092f7366f5401bd0c1f3967fd1b
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/apk/release/*.apk
    srclibs:
      - flutter@3.10.3
      - metadata_god_rust@v0.4.1
      - rustup@1.25.2
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - sed -i -e 's/this.checkUpdate .*/this.checkUpdate = false,/' lib/provider/user_preferences_provider.dart
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - export HASH='ZTRkMjBiMDEzMDIyNDMzMjhkMzU4NTI0MWExYjJiMjU6M2RkMjE2MzUyNGM2NDY1YzkxNmNjNGQ2ZTZmZGE5NzcsZTM4NGRiYWQ2YzdmNDY5MmI2MjdkNGEwNmQ5MTgzY2Y6ZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYsZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmU6OGExOGQ4MjBkNWJkNDU1N2IzMGZlN2E0NTlmOGYzYWIsODFkMWRkYWM5YzVlNDY5NmE5ZjQ3YWRmZjg4ZGZhOTU6ZjU1ODllM2I3YzBmNGJlMWFjZmQ4Nzc5ZTI3ZjMxYWEsYWFjNmViZDcyODkwNDA4ZTk3YThkOTExZjhhMjAwODE6NTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMsMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5Mjc6ZDcwYWVjOGY4YzdkNGU2NGE5YTA5MGE2NDdlMWQwZmIsYWY0ODhiNDA4ZDVjNDQwMmFkMTRmNzBjY2YzMDE3Zjg6MTNlOTAzOTlhMTIyNDMyMThjZTUwMTZiZmVlYjI1MDQsNjJiYjU1ZTZjZjYwNDA5NmFkNDY4MGJiMjU0ZjhmNTU6ZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAsZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDU6YTM1NmYxMjQxOGIyNDgwZGFiZjg0ZDk4YTk1MWE5YmEsM2ZjNDlmYzY5MGMwNDVlYWEwZjBhMjQyNmRkNGE5MWU6MmJiN2RhNjVjNTA2NDhhZWE4YjdiYzA5ZDRlZjQwZmU='
      - echo "SPOTIFY_SECRETS=`echo $HASH | base64 --decode`" >> .env
      - echo "SUPABASE_URL=https://egnloosvpullyovaxpbf.supabase.co" >> .env
      - echo "SUPABASE_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVnbmxvb3N2cHVsbHlvdmF4cGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQyMTI4MDIsImV4cCI6MTk5OTc4ODgwMn0.dJWCP05v-Oqsx7r5GOSpq5g2QRKEUzNhPmYI4X79Pmw"
        >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y
      - source $HOME/.cargo/env
      - rustup target add aarch64-linux-android armv7-linux-androideabi x86_64-linux-android
        i686-linux-android
      - cargo install cargo-ndk
      - pushd $$metadata_god_rust$$
      - melos bs
      - melos build:android
      - melos copylib:android
      - popd
      - dart run build_runner build --delete-conflicting-outputs --enable-experiment=records,patterns
      - flutter build apk --release --obfuscate --split-debug-info=.
      - find . | sed -e "s/[^-][^\/]*\// |/g" -e "s/|\([^ ]\)/|-\1/"
    ndk: r25b

  - versionName: 3.1.2
    versionCode: 24
    commit: 532248b55df6d91b036f354fb7a5883d81566d6a
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/apk/release/*.apk
    srclibs:
      - flutter@3.10.3
      - metadata_god_rust@v0.4.1
      - rustup@1.25.2
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - sed -i -e 's/this.checkUpdate .*/this.checkUpdate = false,/' lib/provider/user_preferences_provider.dart
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - export HASH='ZTRkMjBiMDEzMDIyNDMzMjhkMzU4NTI0MWExYjJiMjU6M2RkMjE2MzUyNGM2NDY1YzkxNmNjNGQ2ZTZmZGE5NzcsZTM4NGRiYWQ2YzdmNDY5MmI2MjdkNGEwNmQ5MTgzY2Y6ZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYsZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmU6OGExOGQ4MjBkNWJkNDU1N2IzMGZlN2E0NTlmOGYzYWIsODFkMWRkYWM5YzVlNDY5NmE5ZjQ3YWRmZjg4ZGZhOTU6ZjU1ODllM2I3YzBmNGJlMWFjZmQ4Nzc5ZTI3ZjMxYWEsYWFjNmViZDcyODkwNDA4ZTk3YThkOTExZjhhMjAwODE6NTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMsMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5Mjc6ZDcwYWVjOGY4YzdkNGU2NGE5YTA5MGE2NDdlMWQwZmIsYWY0ODhiNDA4ZDVjNDQwMmFkMTRmNzBjY2YzMDE3Zjg6MTNlOTAzOTlhMTIyNDMyMThjZTUwMTZiZmVlYjI1MDQsNjJiYjU1ZTZjZjYwNDA5NmFkNDY4MGJiMjU0ZjhmNTU6ZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAsZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDU6YTM1NmYxMjQxOGIyNDgwZGFiZjg0ZDk4YTk1MWE5YmEsM2ZjNDlmYzY5MGMwNDVlYWEwZjBhMjQyNmRkNGE5MWU6MmJiN2RhNjVjNTA2NDhhZWE4YjdiYzA5ZDRlZjQwZmU='
      - echo "SPOTIFY_SECRETS=`echo $HASH | base64 --decode`" >> .env
      - echo "SUPABASE_URL=https://egnloosvpullyovaxpbf.supabase.co" >> .env
      - echo "SUPABASE_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVnbmxvb3N2cHVsbHlvdmF4cGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQyMTI4MDIsImV4cCI6MTk5OTc4ODgwMn0.dJWCP05v-Oqsx7r5GOSpq5g2QRKEUzNhPmYI4X79Pmw"
        >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y
      - source $HOME/.cargo/env
      - rustup target add aarch64-linux-android armv7-linux-androideabi x86_64-linux-android
        i686-linux-android
      - cargo install cargo-ndk
      - pushd $$metadata_god_rust$$
      - melos bs
      - melos build:android
      - melos copylib:android
      - popd
      - dart run build_runner build --delete-conflicting-outputs --enable-experiment=records,patterns
      - flutter build apk --release --obfuscate --split-debug-info=.
      - find . | sed -e "s/[^-][^\/]*\// |/g" -e "s/|\([^ ]\)/|-\1/"
    ndk: r25b

  - versionName: 3.2.0
    versionCode: 25
    commit: 433ae3d0c7d590b7580da3fe033224f4aa32ba9f
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/flutter-apk/app-stable-release.apk
    srclibs:
      - flutter@stable
      - metadata_god_rust@v0.5.2
      - rustup@1.25.2
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - flutterVerion=$(sed -n -E "s/.*FLUTTER_VERSION:\s'([0-9.]+)'/\1/p" .github/workflows/spotube-release-binary.yml)
      - pushd $$flutter$$
      - git checkout -f $flutterVerion
      - popd
      - echo "SPOTIFY_SECRETS=$(echo ZTRkMjBiMDEzMDIyNDMzMjhkMzU4NTI0MWExYjJiMjU6M2RkMjE2MzUyNGM2NDY1YzkxNmNjNGQ2ZTZmZGE5NzcsZTM4NGRiYWQ2YzdmNDY5MmI2MjdkNGEwNmQ5MTgzY2Y6ZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYsZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmU6OGExOGQ4MjBkNWJkNDU1N2IzMGZlN2E0NTlmOGYzYWIsODFkMWRkYWM5YzVlNDY5NmE5ZjQ3YWRmZjg4ZGZhOTU6ZjU1ODllM2I3YzBmNGJlMWFjZmQ4Nzc5ZTI3ZjMxYWEsYWFjNmViZDcyODkwNDA4ZTk3YThkOTExZjhhMjAwODE6NTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMsMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5Mjc6ZDcwYWVjOGY4YzdkNGU2NGE5YTA5MGE2NDdlMWQwZmIsYWY0ODhiNDA4ZDVjNDQwMmFkMTRmNzBjY2YzMDE3Zjg6MTNlOTAzOTlhMTIyNDMyMThjZTUwMTZiZmVlYjI1MDQsNjJiYjU1ZTZjZjYwNDA5NmFkNDY4MGJiMjU0ZjhmNTU6ZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAsZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDU6YTM1NmYxMjQxOGIyNDgwZGFiZjg0ZDk4YTk1MWE5YmEsM2ZjNDlmYzY5MGMwNDVlYWEwZjBhMjQyNmRkNGE5MWU6MmJiN2RhNjVjNTA2NDhhZWE4YjdiYzA5ZDRlZjQwZmU=
        | base64 --decode)" >> .env
      - echo "SUPABASE_URL=https://egnloosvpullyovaxpbf.supabase.co" >> .env
      - echo "SUPABASE_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVnbmxvb3N2cHVsbHlvdmF4cGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQyMTI4MDIsImV4cCI6MTk5OTc4ODgwMn0.dJWCP05v-Oqsx7r5GOSpq5g2QRKEUzNhPmYI4X79Pmw"
        >> .env
      - echo "LASTFM_API_KEY=$(echo TEFTVEZNX0FQSV9LRVk9ZTQxZWZmMDFhMTgxYmFmZTY2YjMwZDk0MjlhYWJhN2EK
        | base64 --decode)" >> .env
      - echo "LASTFM_API_SECRET=$(echo TEFTVEZNX0FQSV9TRUNSRVQ9ZGQzM2YyOTdiM2ExZTA4ZmEzOWEwNmIzZjcyMTBmYzAK
        | base64 --decode)" >> .env
      - echo "ENABLE_UPDATE_CHECK=0" >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y --default-toolchain 1.73.0 --target aarch64-linux-android
        armv7-linux-androideabi x86_64-linux-android i686-linux-android
      - source $HOME/.cargo/env
      - cargo install cargo-ndk --version 3.4.0
      - pushd $$metadata_god_rust$$
      - melos bs
      - melos build:android
      - melos copylib:android
      - popd
      - dart run build_runner build --delete-conflicting-outputs --enable-experiment=records,patterns
      - flutter build apk --release --flavor stable
      - find . | sed -e "s/[^-][^\/]*\// |/g" -e "s/|\([^ ]\)/|-\1/"
    ndk: r25b

  - versionName: 3.3.0
    versionCode: 26
    commit: cdd94529969bfc647f55bb85313ac20ff7358c77
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/flutter-apk/app-stable-release.apk
    srclibs:
      - flutter@stable
      - metadata_god_rust@v0.5.2
      - rustup@1.25.2
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - flutterVerion=$(sed -n -E "s/.*FLUTTER_VERSION:\s'([0-9.]+)'/\1/p" .github/workflows/spotube-release-binary.yml)
      - pushd $$flutter$$
      - git checkout -f $flutterVerion
      - popd
      - echo "SPOTIFY_SECRETS=$(echo ZTRkMjBiMDEzMDIyNDMzMjhkMzU4NTI0MWExYjJiMjU6M2RkMjE2MzUyNGM2NDY1YzkxNmNjNGQ2ZTZmZGE5NzcsZTM4NGRiYWQ2YzdmNDY5MmI2MjdkNGEwNmQ5MTgzY2Y6ZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYsZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmU6OGExOGQ4MjBkNWJkNDU1N2IzMGZlN2E0NTlmOGYzYWIsODFkMWRkYWM5YzVlNDY5NmE5ZjQ3YWRmZjg4ZGZhOTU6ZjU1ODllM2I3YzBmNGJlMWFjZmQ4Nzc5ZTI3ZjMxYWEsYWFjNmViZDcyODkwNDA4ZTk3YThkOTExZjhhMjAwODE6NTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMsMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5Mjc6ZDcwYWVjOGY4YzdkNGU2NGE5YTA5MGE2NDdlMWQwZmIsYWY0ODhiNDA4ZDVjNDQwMmFkMTRmNzBjY2YzMDE3Zjg6MTNlOTAzOTlhMTIyNDMyMThjZTUwMTZiZmVlYjI1MDQsNjJiYjU1ZTZjZjYwNDA5NmFkNDY4MGJiMjU0ZjhmNTU6ZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAsZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDU6YTM1NmYxMjQxOGIyNDgwZGFiZjg0ZDk4YTk1MWE5YmEsM2ZjNDlmYzY5MGMwNDVlYWEwZjBhMjQyNmRkNGE5MWU6MmJiN2RhNjVjNTA2NDhhZWE4YjdiYzA5ZDRlZjQwZmU=
        | base64 --decode)" >> .env
      - echo "SUPABASE_URL=https://egnloosvpullyovaxpbf.supabase.co" >> .env
      - echo "SUPABASE_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVnbmxvb3N2cHVsbHlvdmF4cGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQyMTI4MDIsImV4cCI6MTk5OTc4ODgwMn0.dJWCP05v-Oqsx7r5GOSpq5g2QRKEUzNhPmYI4X79Pmw"
        >> .env
      - echo "LASTFM_API_KEY=$(echo TEFTVEZNX0FQSV9LRVk9ZTQxZWZmMDFhMTgxYmFmZTY2YjMwZDk0MjlhYWJhN2EK
        | base64 --decode)" >> .env
      - echo "LASTFM_API_SECRET=$(echo TEFTVEZNX0FQSV9TRUNSRVQ9ZGQzM2YyOTdiM2ExZTA4ZmEzOWEwNmIzZjcyMTBmYzAK
        | base64 --decode)" >> .env
      - echo "ENABLE_UPDATE_CHECK=0" >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y --default-toolchain 1.73.0 --target aarch64-linux-android
        armv7-linux-androideabi x86_64-linux-android i686-linux-android
      - source $HOME/.cargo/env
      - cargo install cargo-ndk --version 3.4.0
      - pushd $$metadata_god_rust$$
      - melos bs
      - melos build:android
      - melos copylib:android
      - popd
      - dart run build_runner build --delete-conflicting-outputs --enable-experiment=records,patterns
      - flutter build apk --release --flavor stable
      - find . | sed -e "s/[^-][^\/]*\// |/g" -e "s/|\([^ ]\)/|-\1/"
    ndk: r25b

  - versionName: 3.4.0
    versionCode: 27
    commit: ec7c952270caca55131ed6aba9467c975eab772a
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/flutter-apk/app-stable-release.apk
    srclibs:
      - flutter@stable
      - metadata_god_rust@v0.5.2
      - rustup@1.25.2
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - flutterVerion=$(sed -n -E "s/.*FLUTTER_VERSION:\s'([0-9.]+)'/\1/p" .github/workflows/spotube-release-binary.yml)
      - pushd $$flutter$$
      - git checkout -f $flutterVerion
      - popd
      - echo "SPOTIFY_SECRETS=$(echo ZTRkMjBiMDEzMDIyNDMzMjhkMzU4NTI0MWExYjJiMjU6M2RkMjE2MzUyNGM2NDY1YzkxNmNjNGQ2ZTZmZGE5NzcsZTM4NGRiYWQ2YzdmNDY5MmI2MjdkNGEwNmQ5MTgzY2Y6ZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYsZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmU6OGExOGQ4MjBkNWJkNDU1N2IzMGZlN2E0NTlmOGYzYWIsODFkMWRkYWM5YzVlNDY5NmE5ZjQ3YWRmZjg4ZGZhOTU6ZjU1ODllM2I3YzBmNGJlMWFjZmQ4Nzc5ZTI3ZjMxYWEsYWFjNmViZDcyODkwNDA4ZTk3YThkOTExZjhhMjAwODE6NTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMsMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5Mjc6ZDcwYWVjOGY4YzdkNGU2NGE5YTA5MGE2NDdlMWQwZmIsYWY0ODhiNDA4ZDVjNDQwMmFkMTRmNzBjY2YzMDE3Zjg6MTNlOTAzOTlhMTIyNDMyMThjZTUwMTZiZmVlYjI1MDQsNjJiYjU1ZTZjZjYwNDA5NmFkNDY4MGJiMjU0ZjhmNTU6ZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAsZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDU6YTM1NmYxMjQxOGIyNDgwZGFiZjg0ZDk4YTk1MWE5YmEsM2ZjNDlmYzY5MGMwNDVlYWEwZjBhMjQyNmRkNGE5MWU6MmJiN2RhNjVjNTA2NDhhZWE4YjdiYzA5ZDRlZjQwZmU=
        | base64 --decode)" >> .env
      - echo "SUPABASE_URL=https://egnloosvpullyovaxpbf.supabase.co" >> .env
      - echo "SUPABASE_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVnbmxvb3N2cHVsbHlvdmF4cGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQyMTI4MDIsImV4cCI6MTk5OTc4ODgwMn0.dJWCP05v-Oqsx7r5GOSpq5g2QRKEUzNhPmYI4X79Pmw"
        >> .env
      - echo TEFTVEZNX0FQSV9LRVk9ZTQxZWZmMDFhMTgxYmFmZTY2YjMwZDk0MjlhYWJhN2EK | base64
        --decode >> .env
      - echo TEFTVEZNX0FQSV9TRUNSRVQ9ZGQzM2YyOTdiM2ExZTA4ZmEzOWEwNmIzZjcyMTBmYzAK
        | base64 --decode >> .env
      - echo "ENABLE_UPDATE_CHECK=0" >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y --default-toolchain 1.73.0 --target aarch64-linux-android
        armv7-linux-androideabi x86_64-linux-android i686-linux-android
      - source $HOME/.cargo/env
      - cargo install cargo-ndk --version 3.4.0
      - pushd $$metadata_god_rust$$
      - melos bs
      - melos build:android
      - melos copylib:android
      - popd
      - dart run build_runner build --delete-conflicting-outputs --enable-experiment=records,patterns
      - flutter build apk --release --flavor stable
      - find . | sed -e "s/[^-][^\/]*\// |/g" -e "s/|\([^ ]\)/|-\1/"
    ndk: r25b

  - versionName: 3.4.1
    versionCode: 28
    commit: 5d0b5e69a5e43b17561656160fd963de4ff0f833
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/flutter-apk/app-stable-release.apk
    srclibs:
      - flutter@stable
      - metadata_god_rust@v0.5.2
      - rustup@1.25.2
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - flutterVerion=$(sed -n -E "s/.*FLUTTER_VERSION:\s'([0-9.]+)'/\1/p" .github/workflows/spotube-release-binary.yml)
      - pushd $$flutter$$
      - git checkout -f $flutterVerion
      - popd
      - echo "SPOTIFY_SECRETS=$(echo ZTRkMjBiMDEzMDIyNDMzMjhkMzU4NTI0MWExYjJiMjU6M2RkMjE2MzUyNGM2NDY1YzkxNmNjNGQ2ZTZmZGE5NzcsZTM4NGRiYWQ2YzdmNDY5MmI2MjdkNGEwNmQ5MTgzY2Y6ZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYsZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmU6OGExOGQ4MjBkNWJkNDU1N2IzMGZlN2E0NTlmOGYzYWIsODFkMWRkYWM5YzVlNDY5NmE5ZjQ3YWRmZjg4ZGZhOTU6ZjU1ODllM2I3YzBmNGJlMWFjZmQ4Nzc5ZTI3ZjMxYWEsYWFjNmViZDcyODkwNDA4ZTk3YThkOTExZjhhMjAwODE6NTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMsMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5Mjc6ZDcwYWVjOGY4YzdkNGU2NGE5YTA5MGE2NDdlMWQwZmIsYWY0ODhiNDA4ZDVjNDQwMmFkMTRmNzBjY2YzMDE3Zjg6MTNlOTAzOTlhMTIyNDMyMThjZTUwMTZiZmVlYjI1MDQsNjJiYjU1ZTZjZjYwNDA5NmFkNDY4MGJiMjU0ZjhmNTU6ZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAsZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDU6YTM1NmYxMjQxOGIyNDgwZGFiZjg0ZDk4YTk1MWE5YmEsM2ZjNDlmYzY5MGMwNDVlYWEwZjBhMjQyNmRkNGE5MWU6MmJiN2RhNjVjNTA2NDhhZWE4YjdiYzA5ZDRlZjQwZmU=
        | base64 --decode)" >> .env
      - echo "SUPABASE_URL=https://egnloosvpullyovaxpbf.supabase.co" >> .env
      - echo "SUPABASE_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVnbmxvb3N2cHVsbHlvdmF4cGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQyMTI4MDIsImV4cCI6MTk5OTc4ODgwMn0.dJWCP05v-Oqsx7r5GOSpq5g2QRKEUzNhPmYI4X79Pmw"
        >> .env
      - echo TEFTVEZNX0FQSV9LRVk9ZTQxZWZmMDFhMTgxYmFmZTY2YjMwZDk0MjlhYWJhN2EK | base64
        --decode >> .env
      - echo TEFTVEZNX0FQSV9TRUNSRVQ9ZGQzM2YyOTdiM2ExZTA4ZmEzOWEwNmIzZjcyMTBmYzAK
        | base64 --decode >> .env
      - echo "ENABLE_UPDATE_CHECK=0" >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y --default-toolchain 1.73.0 --target aarch64-linux-android
        armv7-linux-androideabi x86_64-linux-android i686-linux-android
      - source $HOME/.cargo/env
      - cargo install cargo-ndk --version 3.4.0
      - pushd $$metadata_god_rust$$
      - melos bs
      - melos build:android
      - melos copylib:android
      - popd
      - dart run build_runner build --delete-conflicting-outputs --enable-experiment=records,patterns
      - flutter build apk --release --flavor stable
      - find . | sed -e "s/[^-][^\/]*\// |/g" -e "s/|\([^ ]\)/|-\1/"
    ndk: r25b

  - versionName: 3.5.0
    versionCode: 29
    commit: 97ecaca9d9065eece95fbd171d858dd83f67c111
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/flutter-apk/app-stable-release.apk
    srclibs:
      - flutter@stable
      - metadata_god_rust@v0.5.2
      - rustup@1.25.2
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - flutterVerion=$(sed -n -E "s/.*FLUTTER_VERSION:\s'([0-9.]+)'/\1/p" .github/workflows/spotube-release-binary.yml)
      - pushd $$flutter$$
      - git checkout -f $flutterVerion
      - popd
      - echo "SPOTIFY_SECRETS=$(echo ZTRkMjBiMDEzMDIyNDMzMjhkMzU4NTI0MWExYjJiMjU6M2RkMjE2MzUyNGM2NDY1YzkxNmNjNGQ2ZTZmZGE5NzcsZTM4NGRiYWQ2YzdmNDY5MmI2MjdkNGEwNmQ5MTgzY2Y6ZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYsZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmU6OGExOGQ4MjBkNWJkNDU1N2IzMGZlN2E0NTlmOGYzYWIsODFkMWRkYWM5YzVlNDY5NmE5ZjQ3YWRmZjg4ZGZhOTU6ZjU1ODllM2I3YzBmNGJlMWFjZmQ4Nzc5ZTI3ZjMxYWEsYWFjNmViZDcyODkwNDA4ZTk3YThkOTExZjhhMjAwODE6NTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMsMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5Mjc6ZDcwYWVjOGY4YzdkNGU2NGE5YTA5MGE2NDdlMWQwZmIsYWY0ODhiNDA4ZDVjNDQwMmFkMTRmNzBjY2YzMDE3Zjg6MTNlOTAzOTlhMTIyNDMyMThjZTUwMTZiZmVlYjI1MDQsNjJiYjU1ZTZjZjYwNDA5NmFkNDY4MGJiMjU0ZjhmNTU6ZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAsZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDU6YTM1NmYxMjQxOGIyNDgwZGFiZjg0ZDk4YTk1MWE5YmEsM2ZjNDlmYzY5MGMwNDVlYWEwZjBhMjQyNmRkNGE5MWU6MmJiN2RhNjVjNTA2NDhhZWE4YjdiYzA5ZDRlZjQwZmU=
        | base64 --decode)" >> .env
      - echo "SUPABASE_URL=https://egnloosvpullyovaxpbf.supabase.co" >> .env
      - echo "SUPABASE_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVnbmxvb3N2cHVsbHlvdmF4cGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQyMTI4MDIsImV4cCI6MTk5OTc4ODgwMn0.dJWCP05v-Oqsx7r5GOSpq5g2QRKEUzNhPmYI4X79Pmw"
        >> .env
      - echo TEFTVEZNX0FQSV9LRVk9ZTQxZWZmMDFhMTgxYmFmZTY2YjMwZDk0MjlhYWJhN2EK | base64
        --decode >> .env
      - echo TEFTVEZNX0FQSV9TRUNSRVQ9ZGQzM2YyOTdiM2ExZTA4ZmEzOWEwNmIzZjcyMTBmYzAK
        | base64 --decode >> .env
      - echo "ENABLE_UPDATE_CHECK=0" >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y --default-toolchain 1.73.0 --target aarch64-linux-android
        armv7-linux-androideabi x86_64-linux-android i686-linux-android
      - source $HOME/.cargo/env
      - cargo install cargo-ndk --version 3.4.0
      - pushd $$metadata_god_rust$$
      - melos bs
      - melos build:android
      - melos copylib:android
      - popd
      - dart run build_runner build --delete-conflicting-outputs --enable-experiment=records,patterns
      - flutter build apk --release --flavor stable
      - find . | sed -e "s/[^-][^\/]*\// |/g" -e "s/|\([^ ]\)/|-\1/"
    ndk: r25b

  - versionName: 3.6.0
    versionCode: 30
    commit: cb95663412fcc9a829c5657e0160132f13fb0649
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/flutter-apk/app-stable-release.apk
    srclibs:
      - flutter@stable
      - metadata_god_rust@v0.5.2
      - rustup@1.25.2
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - flutterVerion=$(sed -n -E "s/.*FLUTTER_VERSION:\s'([0-9.]+)'/\1/p" .github/workflows/spotube-release-binary.yml)
      - pushd $$flutter$$
      - git checkout -f $flutterVerion
      - popd
      - echo "SPOTIFY_SECRETS=$(echo ZTRkMjBiMDEzMDIyNDMzMjhkMzU4NTI0MWExYjJiMjU6M2RkMjE2MzUyNGM2NDY1YzkxNmNjNGQ2ZTZmZGE5NzcsZTM4NGRiYWQ2YzdmNDY5MmI2MjdkNGEwNmQ5MTgzY2Y6ZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYsZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmU6OGExOGQ4MjBkNWJkNDU1N2IzMGZlN2E0NTlmOGYzYWIsODFkMWRkYWM5YzVlNDY5NmE5ZjQ3YWRmZjg4ZGZhOTU6ZjU1ODllM2I3YzBmNGJlMWFjZmQ4Nzc5ZTI3ZjMxYWEsYWFjNmViZDcyODkwNDA4ZTk3YThkOTExZjhhMjAwODE6NTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMsMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5Mjc6ZDcwYWVjOGY4YzdkNGU2NGE5YTA5MGE2NDdlMWQwZmIsYWY0ODhiNDA4ZDVjNDQwMmFkMTRmNzBjY2YzMDE3Zjg6MTNlOTAzOTlhMTIyNDMyMThjZTUwMTZiZmVlYjI1MDQsNjJiYjU1ZTZjZjYwNDA5NmFkNDY4MGJiMjU0ZjhmNTU6ZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAsZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDU6YTM1NmYxMjQxOGIyNDgwZGFiZjg0ZDk4YTk1MWE5YmEsM2ZjNDlmYzY5MGMwNDVlYWEwZjBhMjQyNmRkNGE5MWU6MmJiN2RhNjVjNTA2NDhhZWE4YjdiYzA5ZDRlZjQwZmU=
        | base64 --decode)" >> .env
      - echo "SUPABASE_URL=https://egnloosvpullyovaxpbf.supabase.co" >> .env
      - echo "SUPABASE_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVnbmxvb3N2cHVsbHlvdmF4cGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQyMTI4MDIsImV4cCI6MTk5OTc4ODgwMn0.dJWCP05v-Oqsx7r5GOSpq5g2QRKEUzNhPmYI4X79Pmw"
        >> .env
      - echo TEFTVEZNX0FQSV9LRVk9ZTQxZWZmMDFhMTgxYmFmZTY2YjMwZDk0MjlhYWJhN2EK | base64
        --decode >> .env
      - echo TEFTVEZNX0FQSV9TRUNSRVQ9ZGQzM2YyOTdiM2ExZTA4ZmEzOWEwNmIzZjcyMTBmYzAK
        | base64 --decode >> .env
      - echo "ENABLE_UPDATE_CHECK=0" >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y --default-toolchain 1.73.0 --target aarch64-linux-android
        armv7-linux-androideabi x86_64-linux-android i686-linux-android
      - source $HOME/.cargo/env
      - cargo install cargo-ndk --version 3.4.0
      - pushd $$metadata_god_rust$$
      - melos bs
      - melos build:android
      - melos copylib:android
      - popd
      - dart run build_runner build --delete-conflicting-outputs --enable-experiment=records,patterns
      - flutter build apk --release --flavor stable
      - find . | sed -e "s/[^-][^\/]*\// |/g" -e "s/|\([^ ]\)/|-\1/"
    ndk: r25b

  - versionName: 3.7.0
    versionCode: 31
    commit: ed48d25add1513a34e7c20cf71f1ce4106455612
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/flutter-apk/app-stable-release.apk
    srclibs:
      - flutter@stable
      - metadata_god_rust@v0.5.2
      - rustup@1.25.2
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - flutterVersion=$(sed -n -E 's/.*"flutterSdkVersion":\s"(.*)",/\1/p' .fvm/fvm_config.json)
      - '[[ $flutterVersion ]] || exit 1'
      - git -C $$flutter$$ checkout -f $flutterVersion
      - echo "SPOTIFY_SECRETS=$(echo ZTRkMjBiMDEzMDIyNDMzMjhkMzU4NTI0MWExYjJiMjU6M2RkMjE2MzUyNGM2NDY1YzkxNmNjNGQ2ZTZmZGE5NzcsZTM4NGRiYWQ2YzdmNDY5MmI2MjdkNGEwNmQ5MTgzY2Y6ZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYsZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmU6OGExOGQ4MjBkNWJkNDU1N2IzMGZlN2E0NTlmOGYzYWIsODFkMWRkYWM5YzVlNDY5NmE5ZjQ3YWRmZjg4ZGZhOTU6ZjU1ODllM2I3YzBmNGJlMWFjZmQ4Nzc5ZTI3ZjMxYWEsYWFjNmViZDcyODkwNDA4ZTk3YThkOTExZjhhMjAwODE6NTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMsMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5Mjc6ZDcwYWVjOGY4YzdkNGU2NGE5YTA5MGE2NDdlMWQwZmIsYWY0ODhiNDA4ZDVjNDQwMmFkMTRmNzBjY2YzMDE3Zjg6MTNlOTAzOTlhMTIyNDMyMThjZTUwMTZiZmVlYjI1MDQsNjJiYjU1ZTZjZjYwNDA5NmFkNDY4MGJiMjU0ZjhmNTU6ZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAsZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDU6YTM1NmYxMjQxOGIyNDgwZGFiZjg0ZDk4YTk1MWE5YmEsM2ZjNDlmYzY5MGMwNDVlYWEwZjBhMjQyNmRkNGE5MWU6MmJiN2RhNjVjNTA2NDhhZWE4YjdiYzA5ZDRlZjQwZmU=
        | base64 --decode)" >> .env
      - echo "SUPABASE_URL=https://egnloosvpullyovaxpbf.supabase.co" >> .env
      - echo "SUPABASE_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVnbmxvb3N2cHVsbHlvdmF4cGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQyMTI4MDIsImV4cCI6MTk5OTc4ODgwMn0.dJWCP05v-Oqsx7r5GOSpq5g2QRKEUzNhPmYI4X79Pmw"
        >> .env
      - echo TEFTVEZNX0FQSV9LRVk9ZTQxZWZmMDFhMTgxYmFmZTY2YjMwZDk0MjlhYWJhN2EK | base64
        --decode >> .env
      - echo TEFTVEZNX0FQSV9TRUNSRVQ9ZGQzM2YyOTdiM2ExZTA4ZmEzOWEwNmIzZjcyMTBmYzAK
        | base64 --decode >> .env
      - echo "ENABLE_UPDATE_CHECK=0" >> .env
      - echo "RELEASE_CHANNEL=stable" >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y --default-toolchain 1.73.0 --target aarch64-linux-android
        armv7-linux-androideabi x86_64-linux-android i686-linux-android
      - source $HOME/.cargo/env
      - cargo install cargo-ndk --version 3.4.0 --locked
      - pushd $$metadata_god_rust$$
      - melos bs
      - melos build:android
      - melos copylib:android
      - popd
      - dart run build_runner build --delete-conflicting-outputs --enable-experiment=records,patterns
      - flutter build apk --release --flavor stable
    ndk: r25b

  - versionName: 3.7.1
    versionCode: 32
    commit: 491c1b98575ea976a1b4c7ce0fd720b478de6b8b
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/flutter-apk/app-stable-release.apk
    srclibs:
      - flutter@stable
      - metadata_god_rust@v0.5.2
      - rustup@1.25.2
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - flutterVersion=$(sed -n -E 's/.*"flutterSdkVersion":\s"(.*)",/\1/p' .fvm/fvm_config.json)
      - '[[ $flutterVersion ]] || exit 1'
      - git -C $$flutter$$ checkout -f $flutterVersion
      - echo "SPOTIFY_SECRETS=$(echo ZTRkMjBiMDEzMDIyNDMzMjhkMzU4NTI0MWExYjJiMjU6M2RkMjE2MzUyNGM2NDY1YzkxNmNjNGQ2ZTZmZGE5NzcsZTM4NGRiYWQ2YzdmNDY5MmI2MjdkNGEwNmQ5MTgzY2Y6ZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYsZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmU6OGExOGQ4MjBkNWJkNDU1N2IzMGZlN2E0NTlmOGYzYWIsODFkMWRkYWM5YzVlNDY5NmE5ZjQ3YWRmZjg4ZGZhOTU6ZjU1ODllM2I3YzBmNGJlMWFjZmQ4Nzc5ZTI3ZjMxYWEsYWFjNmViZDcyODkwNDA4ZTk3YThkOTExZjhhMjAwODE6NTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMsMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5Mjc6ZDcwYWVjOGY4YzdkNGU2NGE5YTA5MGE2NDdlMWQwZmIsYWY0ODhiNDA4ZDVjNDQwMmFkMTRmNzBjY2YzMDE3Zjg6MTNlOTAzOTlhMTIyNDMyMThjZTUwMTZiZmVlYjI1MDQsNjJiYjU1ZTZjZjYwNDA5NmFkNDY4MGJiMjU0ZjhmNTU6ZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAsZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDU6YTM1NmYxMjQxOGIyNDgwZGFiZjg0ZDk4YTk1MWE5YmEsM2ZjNDlmYzY5MGMwNDVlYWEwZjBhMjQyNmRkNGE5MWU6MmJiN2RhNjVjNTA2NDhhZWE4YjdiYzA5ZDRlZjQwZmU=
        | base64 --decode)" >> .env
      - echo "SUPABASE_URL=https://egnloosvpullyovaxpbf.supabase.co" >> .env
      - echo "SUPABASE_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVnbmxvb3N2cHVsbHlvdmF4cGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQyMTI4MDIsImV4cCI6MTk5OTc4ODgwMn0.dJWCP05v-Oqsx7r5GOSpq5g2QRKEUzNhPmYI4X79Pmw"
        >> .env
      - echo TEFTVEZNX0FQSV9LRVk9ZTQxZWZmMDFhMTgxYmFmZTY2YjMwZDk0MjlhYWJhN2EK | base64
        --decode >> .env
      - echo TEFTVEZNX0FQSV9TRUNSRVQ9ZGQzM2YyOTdiM2ExZTA4ZmEzOWEwNmIzZjcyMTBmYzAK
        | base64 --decode >> .env
      - echo "ENABLE_UPDATE_CHECK=0" >> .env
      - echo "RELEASE_CHANNEL=stable" >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y --default-toolchain 1.73.0 --target aarch64-linux-android
        armv7-linux-androideabi x86_64-linux-android i686-linux-android
      - source $HOME/.cargo/env
      - cargo install cargo-ndk --version 3.4.0 --locked
      - pushd $$metadata_god_rust$$
      - melos bs
      - melos build:android
      - melos copylib:android
      - popd
      - dart run build_runner build --delete-conflicting-outputs --enable-experiment=records,patterns
      - flutter build apk --release --flavor stable
    ndk: r25b

  - versionName: 3.8.0
    versionCode: 33
    commit: 2be84ec4ee938eab8aa13e7ae7afe55c56a6b815
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/flutter-apk/app-stable-release.apk
    srclibs:
      - flutter@stable
      - rustup@1.27.1
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - flutterVersion=$(sed -n -E 's/.*"flutterSdkVersion":\s"(.*)",/\1/p' .fvm/fvm_config.json)
      - '[[ $flutterVersion ]] || exit 1'
      - git -C $$flutter$$ checkout -f $flutterVersion
      - echo "SPOTIFY_SECRETS=$(echo ZTRkMjBiMDEzMDIyNDMzMjhkMzU4NTI0MWExYjJiMjU6M2RkMjE2MzUyNGM2NDY1YzkxNmNjNGQ2ZTZmZGE5NzcsZTM4NGRiYWQ2YzdmNDY5MmI2MjdkNGEwNmQ5MTgzY2Y6ZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYsZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmU6OGExOGQ4MjBkNWJkNDU1N2IzMGZlN2E0NTlmOGYzYWIsODFkMWRkYWM5YzVlNDY5NmE5ZjQ3YWRmZjg4ZGZhOTU6ZjU1ODllM2I3YzBmNGJlMWFjZmQ4Nzc5ZTI3ZjMxYWEsYWFjNmViZDcyODkwNDA4ZTk3YThkOTExZjhhMjAwODE6NTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMsMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5Mjc6ZDcwYWVjOGY4YzdkNGU2NGE5YTA5MGE2NDdlMWQwZmIsYWY0ODhiNDA4ZDVjNDQwMmFkMTRmNzBjY2YzMDE3Zjg6MTNlOTAzOTlhMTIyNDMyMThjZTUwMTZiZmVlYjI1MDQsNjJiYjU1ZTZjZjYwNDA5NmFkNDY4MGJiMjU0ZjhmNTU6ZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAsZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDU6YTM1NmYxMjQxOGIyNDgwZGFiZjg0ZDk4YTk1MWE5YmEsM2ZjNDlmYzY5MGMwNDVlYWEwZjBhMjQyNmRkNGE5MWU6MmJiN2RhNjVjNTA2NDhhZWE4YjdiYzA5ZDRlZjQwZmU=
        | base64 --decode)" >> .env
      - echo "SUPABASE_URL=https://egnloosvpullyovaxpbf.supabase.co" >> .env
      - echo "SUPABASE_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVnbmxvb3N2cHVsbHlvdmF4cGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQyMTI4MDIsImV4cCI6MTk5OTc4ODgwMn0.dJWCP05v-Oqsx7r5GOSpq5g2QRKEUzNhPmYI4X79Pmw"
        >> .env
      - echo TEFTVEZNX0FQSV9LRVk9ZTQxZWZmMDFhMTgxYmFmZTY2YjMwZDk0MjlhYWJhN2EK | base64
        --decode >> .env
      - echo TEFTVEZNX0FQSV9TRUNSRVQ9ZGQzM2YyOTdiM2ExZTA4ZmEzOWEwNmIzZjcyMTBmYzAK
        | base64 --decode >> .env
      - echo "ENABLE_UPDATE_CHECK=0" >> .env
      - echo "RELEASE_CHANNEL=stable" >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y --default-toolchain 1.80.0 --target aarch64-linux-android
        armv7-linux-androideabi x86_64-linux-android i686-linux-android
      - source $HOME/.cargo/env
      - dart run build_runner build --delete-conflicting-outputs --enable-experiment=records,patterns
      - flutter build apk --release --flavor stable
    ndk: r25b

  - versionName: 3.8.1
    versionCode: 34
    commit: 87a78549b6c644e42ab1dffc6e4111ba841220c8
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/flutter-apk/app-stable-release.apk
    srclibs:
      - flutter@stable
      - rustup@1.27.1
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - flutterVersion=$(sed -n -E 's/.*"flutterSdkVersion":\s"(.*)",/\1/p' .fvm/fvm_config.json)
      - '[[ $flutterVersion ]] || exit 1'
      - git -C $$flutter$$ checkout -f $flutterVersion
      - echo "SPOTIFY_SECRETS=$(echo ZTRkMjBiMDEzMDIyNDMzMjhkMzU4NTI0MWExYjJiMjU6M2RkMjE2MzUyNGM2NDY1YzkxNmNjNGQ2ZTZmZGE5NzcsZTM4NGRiYWQ2YzdmNDY5MmI2MjdkNGEwNmQ5MTgzY2Y6ZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYsZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmU6OGExOGQ4MjBkNWJkNDU1N2IzMGZlN2E0NTlmOGYzYWIsODFkMWRkYWM5YzVlNDY5NmE5ZjQ3YWRmZjg4ZGZhOTU6ZjU1ODllM2I3YzBmNGJlMWFjZmQ4Nzc5ZTI3ZjMxYWEsYWFjNmViZDcyODkwNDA4ZTk3YThkOTExZjhhMjAwODE6NTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMsMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5Mjc6ZDcwYWVjOGY4YzdkNGU2NGE5YTA5MGE2NDdlMWQwZmIsYWY0ODhiNDA4ZDVjNDQwMmFkMTRmNzBjY2YzMDE3Zjg6MTNlOTAzOTlhMTIyNDMyMThjZTUwMTZiZmVlYjI1MDQsNjJiYjU1ZTZjZjYwNDA5NmFkNDY4MGJiMjU0ZjhmNTU6ZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAsZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDU6YTM1NmYxMjQxOGIyNDgwZGFiZjg0ZDk4YTk1MWE5YmEsM2ZjNDlmYzY5MGMwNDVlYWEwZjBhMjQyNmRkNGE5MWU6MmJiN2RhNjVjNTA2NDhhZWE4YjdiYzA5ZDRlZjQwZmU=
        | base64 --decode)" >> .env
      - echo "SUPABASE_URL=https://egnloosvpullyovaxpbf.supabase.co" >> .env
      - echo "SUPABASE_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVnbmxvb3N2cHVsbHlvdmF4cGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQyMTI4MDIsImV4cCI6MTk5OTc4ODgwMn0.dJWCP05v-Oqsx7r5GOSpq5g2QRKEUzNhPmYI4X79Pmw"
        >> .env
      - echo TEFTVEZNX0FQSV9LRVk9ZTQxZWZmMDFhMTgxYmFmZTY2YjMwZDk0MjlhYWJhN2EK | base64
        --decode >> .env
      - echo TEFTVEZNX0FQSV9TRUNSRVQ9ZGQzM2YyOTdiM2ExZTA4ZmEzOWEwNmIzZjcyMTBmYzAK
        | base64 --decode >> .env
      - echo "ENABLE_UPDATE_CHECK=0" >> .env
      - echo "RELEASE_CHANNEL=stable" >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y --default-toolchain 1.80.0 --target aarch64-linux-android
        armv7-linux-androideabi x86_64-linux-android i686-linux-android
      - source $HOME/.cargo/env
      - dart run build_runner build --delete-conflicting-outputs --enable-experiment=records,patterns
      - flutter build apk --release --flavor stable
    ndk: r25b

  - versionName: 3.8.2
    versionCode: 35
    commit: 9c80c610b4b6614a495a8cf95429ee100b3b25ad
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/flutter-apk/app-stable-release.apk
    srclibs:
      - flutter@stable
      - rustup@1.27.1
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - flutterVersion=$(sed -n -E 's/.*"flutterSdkVersion":\s"(.*)",/\1/p' .fvm/fvm_config.json)
      - '[[ $flutterVersion ]] || exit 1'
      - git -C $$flutter$$ checkout -f $flutterVersion
      - echo "SPOTIFY_SECRETS=$(echo ZTRkMjBiMDEzMDIyNDMzMjhkMzU4NTI0MWExYjJiMjU6M2RkMjE2MzUyNGM2NDY1YzkxNmNjNGQ2ZTZmZGE5NzcsZTM4NGRiYWQ2YzdmNDY5MmI2MjdkNGEwNmQ5MTgzY2Y6ZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYsZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmU6OGExOGQ4MjBkNWJkNDU1N2IzMGZlN2E0NTlmOGYzYWIsODFkMWRkYWM5YzVlNDY5NmE5ZjQ3YWRmZjg4ZGZhOTU6ZjU1ODllM2I3YzBmNGJlMWFjZmQ4Nzc5ZTI3ZjMxYWEsYWFjNmViZDcyODkwNDA4ZTk3YThkOTExZjhhMjAwODE6NTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMsMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5Mjc6ZDcwYWVjOGY4YzdkNGU2NGE5YTA5MGE2NDdlMWQwZmIsYWY0ODhiNDA4ZDVjNDQwMmFkMTRmNzBjY2YzMDE3Zjg6MTNlOTAzOTlhMTIyNDMyMThjZTUwMTZiZmVlYjI1MDQsNjJiYjU1ZTZjZjYwNDA5NmFkNDY4MGJiMjU0ZjhmNTU6ZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAsZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDU6YTM1NmYxMjQxOGIyNDgwZGFiZjg0ZDk4YTk1MWE5YmEsM2ZjNDlmYzY5MGMwNDVlYWEwZjBhMjQyNmRkNGE5MWU6MmJiN2RhNjVjNTA2NDhhZWE4YjdiYzA5ZDRlZjQwZmU=
        | base64 --decode)" >> .env
      - echo "SUPABASE_URL=https://egnloosvpullyovaxpbf.supabase.co" >> .env
      - echo "SUPABASE_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVnbmxvb3N2cHVsbHlvdmF4cGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQyMTI4MDIsImV4cCI6MTk5OTc4ODgwMn0.dJWCP05v-Oqsx7r5GOSpq5g2QRKEUzNhPmYI4X79Pmw"
        >> .env
      - echo TEFTVEZNX0FQSV9LRVk9ZTQxZWZmMDFhMTgxYmFmZTY2YjMwZDk0MjlhYWJhN2EK | base64
        --decode >> .env
      - echo TEFTVEZNX0FQSV9TRUNSRVQ9ZGQzM2YyOTdiM2ExZTA4ZmEzOWEwNmIzZjcyMTBmYzAK
        | base64 --decode >> .env
      - echo "ENABLE_UPDATE_CHECK=0" >> .env
      - echo "RELEASE_CHANNEL=stable" >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y --default-toolchain 1.80.0 --target aarch64-linux-android
        armv7-linux-androideabi x86_64-linux-android i686-linux-android
      - source $HOME/.cargo/env
      - dart run build_runner build --delete-conflicting-outputs --enable-experiment=records,patterns
      - flutter build apk --release --flavor stable
    ndk: r25b

  - versionName: 3.8.3
    versionCode: 36
    commit: 94e704087fa0e7b3323199ef716b887ae3354ddd
    sudo:
      - apt-get update
      - apt-get install -y gcc libc-dev
    output: build/app/outputs/flutter-apk/app-stable-release.apk
    srclibs:
      - flutter@stable
      - rustup@1.27.1
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
      - scripts
      - choco-struct
      - aur-struct
    prebuild:
      - flutterVersion=$(sed -n -E 's/.*"flutterSdkVersion":\s"(.*)"/\1/p' .fvm/fvm_config.json)
      - '[[ $flutterVersion ]] || exit 1'
      - git -C $$flutter$$ checkout -f $flutterVersion
      - echo "SPOTIFY_SECRETS=$(echo ZTRkMjBiMDEzMDIyNDMzMjhkMzU4NTI0MWExYjJiMjU6M2RkMjE2MzUyNGM2NDY1YzkxNmNjNGQ2ZTZmZGE5NzcsZTM4NGRiYWQ2YzdmNDY5MmI2MjdkNGEwNmQ5MTgzY2Y6ZGNkNzY2OGI2ZjAzNDM2Yzk5OTIzNDMyOWVlYTYxNmYsZWVmZDBiYWU2NjRkNGY1ODhmMDg3NDFkOWU2ZjNlYmU6OGExOGQ4MjBkNWJkNDU1N2IzMGZlN2E0NTlmOGYzYWIsODFkMWRkYWM5YzVlNDY5NmE5ZjQ3YWRmZjg4ZGZhOTU6ZjU1ODllM2I3YzBmNGJlMWFjZmQ4Nzc5ZTI3ZjMxYWEsYWFjNmViZDcyODkwNDA4ZTk3YThkOTExZjhhMjAwODE6NTk4ODk2OWFiMWUwNGUxNDhmNWRkZDI4ZWE4OThlMzMsMDAwYWUwNzVjOGFhNDcxMTk0NTc5YmM3ZDhlYTY5Mjc6ZDcwYWVjOGY4YzdkNGU2NGE5YTA5MGE2NDdlMWQwZmIsYWY0ODhiNDA4ZDVjNDQwMmFkMTRmNzBjY2YzMDE3Zjg6MTNlOTAzOTlhMTIyNDMyMThjZTUwMTZiZmVlYjI1MDQsNjJiYjU1ZTZjZjYwNDA5NmFkNDY4MGJiMjU0ZjhmNTU6ZGM1NGIxMzhjODJkNGQ2OWJjZGQ0MDFlOWRjNmUwZTAsZGFlM2QzNjQ4ODhiNDhjN2JhOTQwYmU3OWYxNDBjMDU6YTM1NmYxMjQxOGIyNDgwZGFiZjg0ZDk4YTk1MWE5YmEsM2ZjNDlmYzY5MGMwNDVlYWEwZjBhMjQyNmRkNGE5MWU6MmJiN2RhNjVjNTA2NDhhZWE4YjdiYzA5ZDRlZjQwZmU=
        | base64 --decode)" >> .env
      - echo "SUPABASE_URL=https://egnloosvpullyovaxpbf.supabase.co" >> .env
      - echo "SUPABASE_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVnbmxvb3N2cHVsbHlvdmF4cGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQyMTI4MDIsImV4cCI6MTk5OTc4ODgwMn0.dJWCP05v-Oqsx7r5GOSpq5g2QRKEUzNhPmYI4X79Pmw"
        >> .env
      - echo TEFTVEZNX0FQSV9LRVk9ZTQxZWZmMDFhMTgxYmFmZTY2YjMwZDk0MjlhYWJhN2EK | base64
        --decode >> .env
      - echo TEFTVEZNX0FQSV9TRUNSRVQ9ZGQzM2YyOTdiM2ExZTA4ZmEzOWEwNmIzZjcyMTBmYzAK
        | base64 --decode >> .env
      - echo "ENABLE_UPDATE_CHECK=0" >> .env
      - echo "RELEASE_CHANNEL=stable" >> .env
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - flutter config --no-analytics
      - flutter pub get
      - flutter pub global activate melos
    scandelete:
      - .pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - export PATH=$PUB_CACHE/bin/:$$flutter$$/bin/:$PATH
      - export ANDROID_NDK_ROOT=$$NDK$$
      - $$rustup$$/rustup-init.sh -y --default-toolchain 1.80.0 --target aarch64-linux-android
        armv7-linux-androideabi x86_64-linux-android i686-linux-android
      - source $HOME/.cargo/env
      - dart run build_runner build --delete-conflicting-outputs --enable-experiment=records,patterns
      - flutter build apk --release --flavor stable
    ndk: r25b

AutoUpdateMode: Version
UpdateCheckMode: Tags
UpdateCheckData: pubspec.yaml|version:\s.+\+(\d+)|.|version:\s(.+)\+
CurrentVersion: 3.8.3
CurrentVersionCode: 36
